<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="shop_cart.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/cart-localstorage@1.1.4/dist/cart-localstorage.min.js" type="text/javascript"></script>
</head>
<body>
    <div class="logo" style="text-align:center">
        <img src="../file/logo_wid.png">
    </div>

    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
	</div>
	<div class="container">

		<div class="card mb-4 shadow-sm">
			<div class="card-body">
				<table class="table">
					
					<tbody class="cart">
					</tbody>
					
					
					<tfoot style="float:right;">
						<td></td>
						<td class="text-right">합계 금액: <strong class="total"></strong></td>
						<td></td>
						
					</tfoot>
					
				</table>
			</div>
		</div>
	</div>
	<script>
		function renderCart(items) {
			const $cart = document.querySelector(".cart")
			const $total = document.querySelector(".total")

			$cart.innerHTML = items.map((item) => `
					<tr>
						
						<td>${item.name}</td>
						<td>${item.quantity}개</td>
						<tr></tr>
						<td class="text-right">${item.price}원</td>
						<tr><br></tr>
					</tr>
					<tr>
						<td>	
							<button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="cartLS.quantity(${item.id},1)">추가하기</button>
								|
								<button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="cartLS.quantity(${item.id},-1)">빼기</button>
						</td>
						
						<td class="text-right"><Button class="btn btn-primary" onClick="cartLS.remove(${item.id})">장바구니 제외</Button></td>
					<tr><br><hr><br></tr>
					</tr>`
					
					).join("")
				
			$total.innerHTML = cartLS.total() + "원"
		}
		renderCart(cartLS.list())
		cartLS.onChange(renderCart)
	</script>

    
    <div class="nav">
    </div>
    <div class="bottom_menu">
		<div>
			<img src="../img/food.png" width="40px" onclick="location.href='../shop/shoppage.html';">
		</div>
		<div>
			<img src="../img/cart.png" width="40px" onclick="location.href='../shop_cart/shop_cart.html';">
		</div>
		<div>
			<img src="../img/profile.png" width="40px">
		</div>
	</div>
    <div class="button">
        <center>
            <button class="order" type="button" style="color: black; background:white; font-size:2em; 
            border-radius:0.5em; padding:5px 20px;">주문하기</button>
        </center>
    </div>
    
    
</body>
</html>