<!DOCTYPE html>
<html lang="ko">
<head>
    <link rel="stylesheet" href="shop_cart.css">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/cart-localstorage@1.1.4/dist/cart-localstorage.min.js" type="text/javascript"></script>
</head>
<body>
    <div class="logo" style="text-align:center">
        <img src="../img/Logo.png" alt="메뉴닷">
    </div>

    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
	</div>
	<div class="container">

		<div class="card mb-4 shadow-sm">
			<div class="card-body">
				<table class="table">
					
					<tbody class="cart">
					</tbody>
					
					
					<tfoot >
						 
						<td class="text-right">합계 금액: <strong class="total"></strong></td>
						
						
					</tfoot>
					
				</table>
			</div>
		</div>
	</div>
	<script>
		function renderCart(items) {
			const $cart = document.querySelector(".cart")
			const $total = document.querySelector(".total")

			$cart.innerHTML = items.map((item) => `
					<tr>
						
						<td>${item.name}</td>
						<td>${item.quantity}개</td>
						<tr></tr>
						<td class="text-right">${item.price}원</td>
						<tr><br></tr>
					</tr>
					<tr>
						<td>	
							<button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="alert('총수량 ${item.quantity+1} 개'); cartLS.quantity(${item.id},1)">추가하기</button>
								|
						    <button type="button" class="btn btn-block btn-sm btn-outline-primary"
								onClick="alert('총수량 ${item.quantity-1} 개'); cartLS.quantity(${item.id},-1)">빼기</button>
						</td>
						
						<td class="text-right"><Button class="btn btn-primary" onClick="alert('장바구니에서 삭제되었습니다.');cartLS.remove(${item.id})">장바구니 제외</Button></td>
					<tr><br><hr><br></tr>
					</tr>`
					
					).join("")
				
			$total.innerHTML = cartLS.total() + "원"
		}
		renderCart(cartLS.list())
		cartLS.onChange(renderCart)
	</script>

    
    
    <div class="button">
        <center>
            <button class="order" type="button" style="color: black; background:white; font-size:2em; 
            border-radius:0.5em; padding:5px 20px;" onClick="alert('아직 구현되지 않은 기능입니다.')">주문하기</button>
        </center>
    </div>
    
    <div class="nav">
	</div>
	<div class="bottom_menu">
		<div>
			<img src="../img/food.png" alt="음식카테고리" width="40px" onclick="location.href='../index.html';">
		</div>
		<div>
			<img src="../img/on_cart.png" alt="장바구니" width="40px" onclick="location.href='../shop_cart/shop_cart.html';">
		</div>
		<div>
			<img src="../img/profile.png" alt="프로필" width="40px" onclick="location.href='../profile/profile.html';">
		</div>
	</div>
</body>
</html>